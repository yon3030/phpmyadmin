<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
		<title>Failure of Success Criterion 4.1.3 due to providing status messages that cannot be programmatically determined through role or properties</title>
		<link rel="stylesheet" type="text/css" href="../../css/editors.css"/>
	</head>
  
	<body>
		<h1>Failure of Success Criterion 4.1.3 due to providing status messages that cannot be programmatically determined through role or properties</h1>
    
		<section id="meta">
			<h2>Metadata</h2>
			<p id="id"></p>
			<p id="technology">general</p>
			<p id="type">failure</p>
		</section>
    
		<section id="applicability">
			<h2>When to Use</h2>
			<p>Content using <a href="https://www.w3.org/TR/wai-aria/">Accessible Rich Internet Applications (WAI-ARIA)</a> or another technology.</p>
		</section>
    
		<section id="description">
			<h2>Description</h2>
			<p>The objective of this technique is first to describe how adding a status message to the content without making it programmatically determinable through role or properties is a failure of 4.1.3, then to explain the steps necessary to detect and confirm the failure.</p>
			<p>There are two criteria that determine if changed content on a page represents a status message:
				<ol>
					<li>the new content does not take focus (does not change context);</li>
					<li>the new content provides information to the user on the outcome of an action, the state of an application, the progress of a process, or the existence of errors.</li>
				</ol>
				The first step in this failure technique is confirming that new content on the page meets the above criteria of a status message. Where updated content does not conform to the <a href="https://www.w3.org/TR/WCAG21/#dfn-status-messages">definition of status message</a>, a failure of 4.1.3 has not taken place.</p>
				<p>Initial flagging of potential failures of Status Message may be carried out by examining code for the existence of dynamic content. Where such content meets the definition of a status message, its container can then be examined for an appropriate WAI-ARIA role or property which allows it to be programmatically determinable as a status message. Currently there are a small number of techniques available to indicate status messages to assistive technologies. They are:
					<ul>
						<li><code>role="status"</code></li>
						<li><code>role="alert"</code></li>
						<li>the use of an <code>aria-live</code> attribute on an element, set to either "polite" or "assertive"</li>
						<li><code>role="log"</code></li>
						<li><code>role="progressbar"</code></li>
						</ul>
				</p>
				<p>Since additional techniques may exist to alert an assistive technology, the final step of this failure technique is confirming the lack of surfacing of the message by an assistive technology that would normally pass on this information, such as a screen reader. Where a status message exists but lacks appropriate roles or properties and so is not determinable by assistive technology, it is confirmation that a failure has taken place.</p>


		</section>    
		<section id="examples">
			<h2>Examples</h2>
<section class="example">
				<h3>Including a search results message without a status role</h3>
				<p>When a user carries out an invalid search by pressing a Search button, the page content is updated with the results of the search, displayed in a section below the Search button. The change to content conveys the status message "0 results returned". This text is not given an appropriate role for a status message, and so a screen reader will not announce "Zero results returned" unless the user repositions to that text. Since the status message is not presented to the user without receiving focus, it fails 4.1.3.</p>

				<p class="working-example"><a href="../../working-examples/failure-status-message/">Working example: search results message without appropriate role</a></p>
			</section>
		</section>
    
		<section id="resources">
		<h2>Resources</h2>	
		</section>
    
		<section id="tests">
			<h2>Tests</h2>
			<section class="test-procedure">
				<h3>Procedure</h3>
				<p>For content that is dynamically added to the page:</p>
				<ol>
					<li>Confirm the element containing the updated content does not take focus</li>
					<li>Confirm that the new content provides information to the user on one of the following:</li>
						<ul>
							<li>the success or result of an action</li>
							<li>the waiting state of an application</li>
							<li>the progress of a process</li>
							<li>the existence of errors</li>
						</ul>
					<li>Confirm that the element containing the new content does not have an aria role of <code>status</code>, <code>alert</code>, <code>log</code>, or <code>progressbar</code>, or an <code>aria-live</code> attribute</li>
					<li>Confirm the status message is not read by assistive technology</li>
				</ol>
			</section>
			<section class="test-results">
				<h3>Expected Results</h3>
				<ul>
					<li>If #1 through #4 are all true, then content fails the Success Criterion.</li>
				</ul>
			</section>
		</section>
		<section id="related">
			<h2>Related Techniques</h2>
			<ul>
				<li>ID</li>
			</ul>
		</section>
	</body>
</html>
