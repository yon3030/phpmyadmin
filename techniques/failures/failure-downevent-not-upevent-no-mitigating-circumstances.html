<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
		<title>Failure of Success Criterion 2.5.2 due to activating a button on the down-event</title>
		<link rel="stylesheet" type="text/css" href="../../css/editors.css"/>
	</head>
	<body>
		<h1>Failure of Success Criterion 2.5.2 due to activating a button on the down-event</h1>
		<section id="meta">
			<h2>Metadata</h2>
			<p id="id">FXX</p>
			<p id="technology"></p>
			<p id="type">failure</p>
		</section>

		<section id="applicability">
			<h2>When to Use</h2>
			<p>All technologies that include interactive controls that can be triggered using a pointer.</p>
		</section>

		<section id="description">
			<h2>Description</h2>
			<p>The objective of this Failure is to describe situations where controls are set to execute and complete functionality on the down-event of a pointer, no further mechanism to abort or undo is available, the up-event does not reverse the outcome of the execution, and where it is not essential for the functionality to execute and complete on the down-event.</p>
			<p>Rather than taking advantage of the <code>click</code> event, authors may hang functionality off of down-events such as <code>mousedown</code>, <code>touchstart</code> or <code>pointerdown</code>. As a result, functionality will be executed as soon as a mouse button is pressed (but not released yet), or a finger or stylus makes contact with a touchscreen.</p>
			<p>Unless other conditions are fulfilled - such as providing a method to easily undo or abort the functionality, reversing the outcome on the up-event (when the mouse button is released, or when the finger or stylus are lifted from the touchscreen), or reacting to the down-event is considered essential (for instance, in cases where the control simulates the operation of a musical instrument like a set of piano keys, or when the control is used as an on-screen control for a game where a fast and immediate response is required), this fails the Success Criterion.</p>
		</section>
		
		<section id="examples">
			<h2>Examples</h2>
      
      		<section class="example">
				<h3>A close button that triggers on down-events</h3>
				<p>A modal dialog contains a lengthy form that a user needs to complete. The modal provides a simple "Close" control that closes the dialog and loses all information the user may already have entered in the form. However, instead of simply listening to the <code>click</code> event - which in most user agents is triggered on the up-event - the author decided to hang the functionality to close the dialog on the down-event. This may lead to the user accidentally closing the dialog and losing all the data they entered into the form up to that point.</p>
<pre><code>
<!-- modal dialog with a form -->
...
&lt;button id="close"&gt;Close&lt;/button&gt;
...
</code></pre>

<pre><code>
const trigger = document.getElementById("close");

function closeDialog() {
  /* close the modal dialog */
  ...
}

trigger.addEventListener('mousedown', closeDialog);
trigger.addEventListener('touchstart', closeDialog);
trigger.addEventListener('pointerdown', closeDialog);
</code></pre>
			</section>
    	</section>
    
		<section id="tests">
			<h2>Tests</h2>
			<section class="test-procedure">
				<h3>Procedure</h3>
				<ol>
                    <li>Open the content on a device various pointer inputs (mouse, touchscreen, stylus).</li>
					<li>Trigger down-events (e.g. by pressing, but not releasing, the mouse button, or placing a finger or stylus on the touchscreen) on all available controls (buttons, links, complex widgets) and check if functionality is executed and completed</li>
                    <li>If functionality was executed and completed on the down-event, check if triggering the up-event (e.g. releasing the pressed mouse button, or lifing the finger or stylus from the touchscreen) reverses the outcome</li>
                    <li>Evaluate if it could be deemed essential for the controls to execute and complete functionality on the down-event</li>
				</ol>
			</section>
			<section class="test-results">
				<h3>Expected Results</h3>
				<ul>
					<li>If checks #2 and #3 are true, and #4 is false, the content fails the Success Criterion.</li>
				</ul>
			</section>
		</section>
	</body>
</html>
