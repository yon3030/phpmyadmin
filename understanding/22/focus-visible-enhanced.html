<!DOCTYPE html>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
   <meta charset="UTF-8"></meta>
   <title>Understanding Focus Visible</title>
   <link rel="stylesheet" type="text/css" href="../../css/sources.css" class="remove"></link>
</head>
<body>
   <h1>Understanding Focus Visible (Enhanced)</h1>
   
   
    <section id="intent">
        <h2>Intent of Focus Visible (Enhanced)</h2>


        <p>The purpose of this success criterion is to ensure a keyboard focus indicator is clearly visible. This criterion is closely related to 2.4.7 focus visible [link], and defines a minimum level of visibility</p>

        <p>For sighted people with mobility impairments who use a keyboard-like device (e.g. a switch, voice input), knowing the current point of focus is very important. Visible focus must also meet the needs of low-vision users, who may also be keyboard-only users.</p>
            
        <p>A keyboard focus indicator can take different forms, this success criterion sets a requirement to make it is clearly distinguishable.</p>
            
        <section id="keyboard-focus">
            <h3>Keyboard focus</h3>
            <p>The keyboard focus is the point of interaction for someone using a keyboard. For environments with a keyboard operable interface, the keyboard focus can be moved around the interface in order to interact with different elements. Whichever element is being interacted with has focus.</p>

            <p>In web pages some components may receive focus as a user presses the tab key to move to that component and then use the arrow keys to select an option (e.g. tabs, menu items). The item considered to be focused is whichever is being interacted with. For example, if you tab to a menu and arrow-down to a menu item, it is the menu item that is in focus as pressing enter would activate the menu item.</p>

            <p>Some elements can take focus (such as the target of a skip link), however, it is only when the element is operable by keyboard controls that this criterion applies.</p>
        </section>
        <section id="size-of-indicator">
            <h3>Size of the indicator</h3>

            <p>The bigger the visible change the easier it is for someone to see, authors are encouraged to make the change as large as possible. For example, a thick outline around the element.</p>

            <figure>
                <img />
                <figcaption>A strong indicator around a link.</figcaption>
            </figure>

            <p>To determine the minimum size for conformance purposes you would need to measure the size of the element.</p>

            <p class="note">A <a>CSS pixel</a> is what developers use in CSS declarations like “width: 200px”, it is device-independent and not to be confused with device pixels which vary depending on the physical pixel density.</p>

            <p>To establish if a focus indicator has a size equivalent to at least a 1px line along the longest side: If a link is 200px wide by 80px tall, the indicator would need to be have a minimum area of 200px square. (I.e. 1px wide along the longest side is 1 x 200px.)</p>

            <figure>
                <img />
                <figcaption>A 200px wide link in default state, and two focus styles showing a minimum sized focus indicator. Both the line in the middle picture and the box in the last picture have a yellow indicator area of 200px squared.</figcaption>
            </figure>

            <p>If controls change size across different variations of a page (e.g. in a responsive design), it helps to use a proportionally sized indicator such as an outline or background change. In that way you can be sure of meeting the size requirement.</p>

            <p>If controls change size and you use a fixed size indicator (such as an icon of a fixed size) you would need to calculate the largest size a control could be in order to provide an indicator that meets the size requirement across variations.</p>

            <p>Typical focus indicators:</p>
            <ul>
                <li>An outline around the whole component would pass the size requirement;</li>
                <li>Changing the background of a control would pass the size requirement;</li>
                <li>A 1px wide vertical line (such as a blinking cursor) would not pass the size requirement.</li>
            </ul>

        </section>
        <section id="Contrast-thickness">
            <h3>Contrast or thickness</h3>

            <p>Where a control is a solid color, and you add a border or outline of a very similar color, it is difficult to perceive the change to the control.</p>

            <figure>
                <img />
                <figcaption>Adding a 1px dark outline around a dark button does not differentiate it, this example fails the success criteria.</figcaption>
            </figure>
                    
            <p>The requirement is to have an indicator that has a 3:1 contrast ratio with the control, or to be separated from the control, or to be at least 2px thick.</p>

            <figure>
                <img />
                <figcaption>Adding a 2px border around the button helps to differentiate which one is focused.</figcaption>
            </figure>

            <figure>
                <img />
                <figcaption>Adding an outline that is separated from the button helps to differentiate which one is focused.</figcaption>
            </figure>

        </section>
        <section id="change-of-color">
            <h3>Change of color</h3>

            <p>The greater the change of contrast between states the easier it is for users to see it. Authors are encouraged to make the change of color contrast as great as possible.</p>

            <p>When a component changes to include a focus indicator, that change can always be measured as a change of color contrast. For example, if a yellow outline is added to a button on a blue background, the change of color is from blue to yellow.</p>
                    
            <p class="note">Color contrast measurements in WCAG are based on luminance (brightness) regardless of the hue.</p>
                    
            <figure>
                <img />
                <figcaption>Adding a yellow outline to a link is a change of color from blue to yellow. That change has a contrast ratio of 12:1.</figcaption>
            </figure>
                    
            <p>Text and non-text contrast measures use adjacent colors, this success criterion measures the change in color between non-focused and focused states.</p>

            <figure>
                <img />
                <figcaption>The second link of these 4 has a light-grey focus outline which would not pass this success criterion because the change from white-background to light-grey outline does not meet 3:1.</figcaption>
            </figure>

        </section>
        <section id="relation-non-text-color-contrast">
            <h3>Relation to non-text color contrast</h3>
            <p>The non-text color contrast success criterion [link] requires that a UI component maintains contrast across it’s states, including when focused. For example, a checkbox must contrast with its adjacent colors, and the check within the checkbox must contrast with its adjacent colors. </p>
            
            <p>Focus-visible (enhanced) requires that the change of color contrast for the focus indicator (only) has contrast compared to the non-focused component.</p>
            
            <table>
                <caption>Four checkboxes in different combinations of checked and focused. The circular indicators (lines) provide a sufficient change of color contrast.</caption>
                <tr>
                    <th>Unchecked</th>
                    <th>Unchecked, focused</th>
                    <th>Checked</th>
                    <th>Checked, focused</th>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
           
            <p>In figure 5:</p>
            <ul>
                <li>The checkbox has sufficient contrast with its adjacent background in default, focused, checked, and checked-focused states; </li>
                <li>The check (tick) within the checkbox contrasts with its adjacent color; </li>
                <li>The circular outline around the checkbox that indicates focus has a sufficient change of contrast.</li>
            </ul>
                    
            <p>There is no requirement to change a component that passes non-text contrast in its non-focused state to account for the focus indicator changing the adjacent color. If the focus indicator is adjacent to component then the component as a whole is considered to pass non-text contrast.</p>
                    
            <figure>
                <img />
                <figcaption>A default checkbox and a focused checkbox. </figcaption>
            </figure>

            <p>The contrast of the default checkbox passes 1.4.11 because the dark border and white background have a contrast ratio greater than 3:1. The 2px dark blue focus outline passes Focus Visible (Enhanced) because the change of contrast is greater than 3:1 with the white background. The component as a whole maintains contrast with the white background so continues to pass 1.4.11.</p>

        </section>


    </section>
    <section id="benefits">
      <h2>Benefits of Focus Visible</h2>
      
      <ul>
         <li>This Success Criterion helps anyone who relies on the keyboard to operate the page, by letting them visually determine the component on which keyboard operations will interact at any point in time.</li>
         <li>People with attention limitations, short term memory limitations, or limitations in executive processes benefit by being able to discover where the focus is located.</li>
      </ul>
      
   </section>
   
   <section id="examples">
      <h2>Examples of Focus Visible</h2>

      <ul>
         <li>When links receive focus, an outline is displayed around the link that contrasts with the background adjacent to the link.</li>
         <li>When buttons receive focus, and outline is displayed within the button (around the text) that contrasts with the button’s background.</li>
         <li>When text fields receive focus, an outline is displayed around the field, indicating that the input has focus.</li>         
      </ul>
      
   </section>

   
   <section id="techniques">
      <h2>Techniques for Focus Visible</h2>
      
      
      <section id="sufficient">
         <h3>Sufficient Techniques for Focus Visible (Enhanced)</h3>
         
         
         <ol>
            <li>
                <a href="https://www.w3.org/WAI/WCAG21/Techniques/general/G195" class="general">Using an author-supplied, highly visible focus indicator</a>
            </li>
            <li>
               <a href="../../techniques/css/C40">Creating a two-color focus indicator to ensure sufficient contrast</a>
            </li>
            <li>
                <a href="">Creating a contrasting focus indicator inside the component</a>
            </li>
         </ol>
         
      </section>
      
      <section id="advisory">
         <h3>Additional Techniques (Advisory) for Focus Visible</h3>
         
      </section>
      
      <section id="failure">
         <h3>Failures for Focus Visible</h3>

         <ul>
            <li>								         
               <a href="https://www.w3.org/WAI/WCAG21/Techniques/failures/F55" class="failure">Failure of Success Criterion 2.1.1, 2.4.7, and 3.2.1 due to using script to remove
                  focus when focus is received
               </a>						       
            </li>
            <li>								         
               <a href="https://www.w3.org/WAI/WCAG21/Techniques/failures/F78" class="failure">Failure due to styling element outlines and borders in a way that overrides or renders
                  non-visible the default visual focus indicator
               </a>						       
            </li>
         </ul>
      </section>
      
   </section>
   
</body>
</html>
