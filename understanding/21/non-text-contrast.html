<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Understanding Non-text Contrast</title>
		<link rel="stylesheet" type="text/css" href="../../css/sources.css" class="remove" />
		<style>
			table {
				border-collapse: collapse;
			}
			.left-headers th:nth-child(1) {
				width: 20%;
			}
			th, td {
				border:1px solid;
				vertical-align:top;
				padding: 2px;
			}
			.example1 {
				outline: 1px #6699cc solid;
				text-decoration: none;
				margin: 5px;
				padding: 2px;
			}
			.example2 {
				outline: 2px #787878 solid;
				margin: 5px;
				padding: 2px;
			}
			label.example3 {
				background-color: #036;
				display: block;
				color: #fff;
				padding: 5px;
			}
			input.example3 {
				background-color: #fff;
				outline: 0; 
				border: 0;
			}
			input.example4 {
				border: 2px #787878 solid;
				border-width: 0 0 2px 0;
				outline: 0;
				background: #efefef;
				margin: 0 0 5px 5px;
			}
			figure {
				text-align: center;
			}
			img {
				max-width: 100%;
			}
		</style>
	</head>
	<body>
		<h1>Understanding Non-text Contrast</h1>
		<section id="intent">
			<h2>Intent</h2>


			<p>The intent of this Success Criterion is to ensure that active user interface components (i.e., controls) and meaningful graphics are distinguishable by people with moderately low vision. The requirements and rationale are similar to those for large text in <a href="visual-audio-contrast-contrast">1.4.3 Contrast (Minimum)</a>.</p>

			<p>Low contrast controls are more difficult to perceive, and may be completely missed by people with a visual impairment. Similarly, if a graphic is needed to understand the content or functionality of the webpage then it should be perceivable by people with low vision or other impairments without the need for contrast-enhancing assistive technology.</p>

			<section id="user-interface-components">
				<h3>Active User Interface Components</h3>

				<p>For active controls on the page, such as buttons and form fields, any visual information provided that is necessary for a user to identify that a control exists and how to operate it must have sufficient contrast with the adjacent background. Also, the visual effects which are implemented to order to indicate state, such as whether a component is selected or focused, must also ensure that the information used to identify the control in that state has a minimum 3:1 contrast ratio.</p>
				<figure>
					<!-- example from https://getbootstrap.com/docs/4.1/components/buttons/ -->
					<img alt="Three buttons on a white background. The first has a dark grey border to indicate its boundary, white internal background and black text. The second adds a thick grey outer border to show focus. The third has the grey border with black background and white text." src="img/first-button-example.png" /> 
					<figcaption>An active control showing the visual boundary by default, the focus indicator, and the hover state.</figcaption>
				</figure>
				
				<p>This success criteria does not require that controls have a visual boundary indicating the hit area, but that if the visual boundary is the only way to identify that a control can be activated, then that boundary must have sufficient contrast. If text (or an icon) within a button is visible and there is no visual indication of the hit area, or the visual indication does not provide the only indication, then there is no contrast requirement beyond the text contrast (<a href="visual-audio-contrast-contrast.html">1.4.3 Contrast (Minimum)</a>) or icon contrast covered by the Graphical Objects portion of this Success Criteria. Note that for people with cognitive disabilities it is recommended to delineate the boundary of controls to aid in the recognition of controls and therefore the completion of activities.</p>
        
				<p>The visual focus indicator for a component must have sufficient contrast against the adjacent background when the component is focused, except where the appearance of the component is determined by the user agent and not modified by the author.</p>

				<figure>
					<img alt="Two buttons, the first with no visual indicator except text saying 'button'. The second is the same but with an added grey border." src="img/minimal-button.png" /> 
					<figcaption>An active control without a visual boundary, but with a focus indicator when focused.</figcaption>
				</figure>

				<p>The <a href="visual-audio-contrast-without-color">Use of Color</a> success criteria addresses changing <strong>only the color</strong> of an object (or text) without otherwise altering the object's form. If the states of an object vary by color this Success Criteria indicates that this is acceptable if the luminosity contrast ratio between the colors of the states differ by at least 3:1 or if there is another indicator of state. For example, a text link that only differs from adjacent text using color and there is no other visual indication that the text is linked (e.g. the link underline is removed) needs to ensure that the link color meets the 3:1 luminosity contrast ratio relative to the non-linked text color in order to meet this Success Criterion.</p>

        <section>
					<h4>Active User Interface Component Examples</h4>
					<p>For designing focus indicators, selection indicators and user interface components that need to be perceived clearly, the following are examples that have sufficient contrast.</p>

					<table class="left-headers">
						<caption>
							Active User Interface Component Examples
						</caption>
						<tr>
						<th>Type</th>
						<th>Description</th>
						<th>Examples</th>
						</tr>
						<tr>
						<th>Visual Focus Indicator</th>
						<td>Visual focus indicator for a link that is a blue (#6699cc) outline around the link. The blue (#6699cc) outline does provide a sufficient contrast with the white (#ffffff) background that is equal to 3 to 1.</td>
						<td>
							<a href="#" class="example1">Example 1</a></td>
						</tr>
						<tr>
						<th>Text Input with border</th>
						<td>Border line (#787878) against immediate surrounding color of white (#FFFFFF) has a contrast ratio of exactly 3 to 1.</td>
						<td><label>Example 2 input:</label><br /><input type="text" class="example2"/></td>
						</tr>
						<tr> 
							<th>Text input using background colour</th>
							<td>Text input using a different in background colour to indicate the input.</td>
							<td><label class="example3">Example 3 input: <input type="text" class="example3" /></label></td>
						</tr>
						<tr>
							<th>Text Input with partial border</th>
							<td>Bottom-border line (#787878) against immediate surrounding color of white (#FFFFFF) has a contrast ratio of exactly 3 to 1. The input also has a very light background, however, it is the bottom border that is intended to convey the nature of the input.</td>
							<td><label>Example 4 input:</label><br /><input type="text" class="example4"/></td>
						</tr>
					</table>

				</section>
				<section id="inactive-controls">
					<h4>Inactive User Interface Components</h4>

					<p>User Interface Components that are not available for user interaction (eg: a disabled control in HTML) are not required to meet this color contrast requirements in WCAG 2.1. An inactive user interface component is visible but not currently operable. Example: A submit button at the bottom of a form that is visible but cannot be activated until all the required fields in the form are completed.</p>
					<p><input type="submit" disabled="disabled" /></p>
					<p>Inactive components, such as disabled controls in HTML, are not available for user interaction. The decision to exempt inactive controls from the contrast requirements was based on a number of considerations:</p>
					<ul>
						<li><strong>Backward compatibility:</strong>  WCAG 2.0 guidance for 1.4.3 Contrast (Minimum) specifically exempts <q>text or images of text that are part of an inactive user interface component</q>. It would be confusing and inconsistent to exempt <strong>text</strong> in inactive components from contrast considerations while requiring sufficient contrast for the graphical container the text resides in.</li>
						<li>
							<p><strong>Variations in significance:</strong> Depending on the circumstances, disabled controls may be intentionally designed to be more or less visible depending on how meaningful a control's disabled state is. Two examples can illustrate.</p>
							<ol>
								<li>A control remains disabled only until the user completes a prerequisite task, at which point it becomes active.</li>
								<li>A designer uses a standard layout for a number of operations. In one operation a control is not valid and so is disabled, but remains visible simply to maintain a consistent layout.</li>
							</ol>
							<p>The disabled control in the first example offers a more significant cue, and a designer may intentionally decrease the contrast in the second case to de-emphasize its importance.</p>
						</li>
						<li><strong>Conflicting needs and desires.</strong> Although meaningful information is conveyed by a lower-contrast disabled control (to those who can perceive it), not all users desire an increase in the prominence of disabled controls.
							<ul>
								<li>Low-vision - some users want to ignore the disabled elements, just focusing on the enabled elements. Other low vision users want to see the disabled items clearly.</li>
								<li> Cognitive - some people with cognitive differences really want to be able to focus on the active elements (and ignore the non-active elements). If we force stronger contrast on the disabled elements, it will likely be difficult for all sighted people to distinguish what is active (and what is disabled).</li>
							</ul>
						</li>
					</ul>
					<p>A one-size fits all solution has been very difficult to establish, a method of varying the presentation of disabled controls based on user preferences is anticipated as an advancement in future.</p>

				</section>
			</section><!-- end user-interface-component section -->


			<section id="graphical-objects">
				<h3>Graphical Objects</h3>


				<p>The term &quot;graphical object&quot; applies to stand-alone icons such as a print icon (with no text), and the important parts of a more complex diagram such as each line in a graph. For simple graphics such as single-color icons the entire image is a graphical object. Images made up of multiple lines, colors and shapes will be made of multiple graphical objects, some of which are required for understanding.</p>

				<p>Not every graphical object needs to contrast with its surroundings - only those that are required for a user to understand what the graphic is conveying. <a href="https://en.wikipedia.org/wiki/Gestalt_psychology#Pr.C3.A4gnanz">Gestalt principles</a> such as the &quot;law of continuity&quot; can be used to ignore minor overlaps with other graphical objects or colors.</p>

				<table>
					<thead>
						<tr>
							<th>Image</th>
							<th>Notes</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><img src="img/contrast-phone.png" alt="An orange circle with a white telephone icon in the middle." width="40" /></td>
							<td><p>The phone icon is a simple shape within the orange circle. The meaning can be understood from that icon alone, the background behind the circle is irrelevant.</p>
							<p>The graphical object is the white phone icon.</p>
							</td>
						</tr>
						<tr>
							<td><img src="img/contrast-magnet.png" alt="A red magnet with grey tips and a black outline." /></td>
							<td><p>A magnet can be understood by the U shape with lighter colored tips. Therefore to understand this graphic you should be able to discern the overall shape (against the background) and the lighter colored tips (against the rest of the U shape and the background).</p>
							<p>The graphical objects are the U shape (by outline or by the solid red color), and each tip of the magnet.</p>
							</td>
						</tr>
						<tr>
							<td><img src="img/contrast-currency-down.png" alt="A yellow arrow pointing down with a pound sign (currency) in the middle." /></td>
							<td><p>The low-currency symbol can be understood with recognition of the shape (down arrow) and the currency symbol (pound icon with the shape). To understand this graphic you need to discern the arrow shape against the white background, and the pound icon against the yellow background.</p>
							<p>The graphical objects are the shape and the currency symbol.</p>
							</td>
						</tr>
						<tr>
							<td><!-- Sourced from wikipedia under CC sharealike license https://en.wikipedia.org/wiki/File:Simple_line_graph_of_ACE_2012_results_by_candidate_sj01.png -->
								<a href="img/simple-line-graph.png"><img src="img/simple-line-graph.png" alt="A line chart of votes across a region, with 4 lines of different colors tracking over time." width="200" /></a></td>

							<td><p>In order to understand the graph you need to discern the lines and shapes for each condition. Therefore each line and colored shape is a &#8216;graphical object&#8217; in the graph and should be over 3:1 against the white background. Most of them have good contrast except the green triangles.</p>
							<p>The graphical objects are the lines in the graph, including the background lines for the values, and the colored lines with shapes.</p>
							<p>The lines should have 3:1 contrast against their background, but as there is little overlap with other lines they do not need to contrast with each other. (See the testing principles below.)</p>
						</td>

						</tr>
						<tr>
							<td><a href="img/graphics-contrast_pie-chart_pass.png"><img src="img/graphics-contrast_pie-chart_pass.png" alt="A pie chart with small gaps between each slice showing the white background, and a dark outline around light colored slices." width="200" /></a></td>
							<td><p>To understand the pie chart you have to discern each slice of the pie chart from the others.</p>
							<p>The graphical objects are the slices of the pie (chart).</p>
							<p>Note: If the values of the pie chart slices were also presented in a conforming manner (see the Pie Charts example for details), the slices would not be required for understanding.</p>
						</td>
						</tr>
					</tbody>
				</table>

				<p>Taking the magnet image above as an example, the process for establishing the graphical object(s) is to:</p>
				<ul>
					<li>Assess what part of each image is needed to understand what it represents.<br />
						The magnet's U shape can be conveyed by the outline or by the red background (either is acceptable). The white tips are also important (otherwise it would be a horseshoe), which needs to contrast with the red background.</li>
					<li>Assume that the user could only see those aspects, do they contrast with the adjacent colors?<br />
						The outline of the magnet contrasts with the surrounding text (black/white), and the red and white between the tips also has sufficient contrast.</li>
				</ul>

				<p>Due to the strong contrast of the red and white, it would also be possible to only put the outline around the white tips of the magnet and it would still conform.</p>


				<h4>Required for Understanding</h4>

				<p>The term &quot;required for understanding&quot; is used in the Success Criterion as many graphics do not need to meet the contrast requirements. If a person needs to perceive a graphic, or part of a graphic (a graphical object) in order to understand the content it should have sufficient contrast. However, that is not a requirement when:</p>
				<ul>
					<li> A graphic with text embedded or overlayed conveys the same information, such as labels and values on charts.</li>
					<li> The graphic is for aesthetic purposes that does not require the user to see or understand it to understand the content or use the functionality.</li>
					<li> The information is available in another form.</li>
					<li> The graphic is part of a logo or brand name (which is considered &quot;essential&quot; to it's presentation).</li>
				</ul>


				<h4>Gradients</h4>

				<p>Gradients can reduce the apparent contrast between areas, and make it more difficult to test. The general principles is to identify the graphical object(s) required for understanding, and take the central color of that area. If you remove the adjacent colour which does not have sufficient contrast, can you still identify and understand the graphical object?</p>
				<figure><img src="img/contrast-gradient.png" alt="Two versions of a blue circle with an 'i' indicating information. The first example has a blue gradient background, the second is missing the upper half of the background which obscures the i." width="300" />
				<figcaption>Removing the background which does not have sufficient contrast highlights that the graphical object (the &quot;i&quot;) is not then understandable.</figcaption></figure>


				<h4>Dynamic Examples</h4>

				<p>Some graphics may have interactions that either vary the contrast, or display the information as text when you mouseover/tap/focus each graphical object. In order for someone to discern the graphics exist at all, there must be contrasting colors or text in order to find the graphics. Within that area, information available by a conforming method (e.g. focusable elements) can be used to make that information available dynamically as text, or dynamically increase the contrast.</p>

				<!-- example from http://www.oracle.com/webfolder/technetwork/jet/jetCookbook.html?component=pieChart&demo=default -->
				<figure>
					<img alt="A pie chart with one slice highlighted and a box hovering next to it that shows the data and indicates the source in the key." src="img/dynamic-pie-chart.png" width="350" /> 
					<figcaption>A dynamic chart where the current 'slice' is hovered or focused, which activates the associated text display of the values and highlights the series.</figcaption>
				</figure>

				<h4>Infographics</h4>

				<p>Infographics can mean any graphic conveying data, such as a chart or diagram. On the web it is often used to indicate a large graphic with lots of statements, pictures, charts or other ways of conveying data. In the context of graphics contrast, each item within such an infographic should be treated as a set of graphical objects, regardless of whether it is in one file or separate files.</p>

				<p>Infographics often fail to meet several WCAG level AA criteria including:</p>

				<ul>
					<li><a href="https://www.w3.org/WAI/WCAG21/Understanding/non-text-content.html">1.1.1 Non-text Content</a></li>
					<li><a href="https://www.w3.org/WAI/WCAG21/Understanding/use-of-color.html">1.4.1 Use of Color</a></li>
					<li><a href="https://www.w3.org/WAI/WCAG21/Understanding/contrast-minimum.html">1.4.3 (Text) Contrast</a></li>
					<li><a href="https://www.w3.org/WAI/WCAG21/Understanding/images-of-text.html">1.4.5 Images of Text</a></li>
				</ul>

				<p>An infographic can use text which meets the other criteria to minimise the number of graphical objects required for understanding. For example, using text with sufficient contrast to provide the values in a chart.</p>



				<h4>Essential Exception</h4>

				<p>Graphical objects do not have to meet the contrast requirements when &quot;a particular presentation of graphics is essential to the information being conveyed&quot;. The Essential exception is intended to apply when there is no way of presenting the graphic with sufficient contrast without undermining the meaning. For example:</p>
				<ul>
					<li><strong>Logotypes and flags</strong>: The brand logo of an organization or product is the representation of that organization and therefore exempt. Flags may not be identifiable if the colors are changed to have sufficient contrast.</li>
					<li><strong>Sensory</strong>: There is no requirement to change pictures of real life scenes such as photos of people or scenery.</li>
					<li><strong>Representing other things</strong>: If you cannot represent the graphic in any other way, it is essential. Examples include: 
						<ul>
							<li>Screenshots to demonstrate how a website appeared.</li>
							<li>Diagrams of medical information that use the colors found in biology (<a href="https://commons.wikimedia.org/wiki/File:Schematic_diagram_of_the_human_eye_it.svg">example medical schematic from Wikipedia</a>).</li>
							<li>Colour gradients that represent a measurement, such as heat maps (<a href="https://commons.wikimedia.org/wiki/File:Eyetracking_heat_map_Wikipedia.jpg">example heatmap from Wikipedia</a>).</li>
						</ul>
					</li>
				</ul>

				<section id="graphic-object-examples">
					<h3>Graphical Object Examples</h3>
					<ul>
						<li>Status icons on an application's dashboard (without associated text) have a 3:1 minimum contrast ratio.</li>
						<li>A text input has a dark border around the white editable area.</li>
						<li>A graph uses a light background and ensures that the colors for each line have a 3:1 contrast ratio against the background.</li>
					</ul>
					<section class="example">
						<h4>Pie Charts</h4>
						<p>Pie charts make a good case study for the graphical objects part of this success criteria, the following pie charts are intended to convey the proportion of market share each browser has. NB: The actual figures are made up, these are not actual market shares. </p>
						<figure>
							<img src="img/graphics-contrast_pie-chart_fail.png" alt="Failing pie chart" />
							<figcaption>
								<p><strong>Fail:</strong> The pie chart has labels for each slice (so passes 1.4.1 Use of Color), but in order to understand the proportions of the slices you must discern the edges of the slices (the graphical objects conveying essential information), and the contrast between the slices is not over 3:1. </p>
							</figcaption>
						</figure>
						<figure>
							<img src="img/graphics-contrast_pie-chart_na.png" alt="Not applicable pie chart" />
							<figcaption>
								<p><strong>Not applicable:</strong> The pie chart has visible labels <em>and</em> values that convey equivalent information to the graphical objects (the pie slices). </p>
							</figcaption>
						</figure>
						<figure>
							<img src="img/graphics-contrast_pie-chart_pass.png" alt="Passing pie chart" />
							<figcaption>
								<p><strong>Pass:</strong> The pie chart has visible labels, and sufficient contrast around and between the slices of the pie chart (the graphical objects). A darker border has been added around the yellow slice in order to achieve the contrast level.</p>
							</figcaption>
						</figure>
					</section>
					<section class="example">
						<h4>Infographics</h4>
						<figure>
							<img src="img/infographic-fail.png" alt="An infographic showing lightly coloured circles of various sizes to indicate the size of five different social networks" />
							<figcaption>
								<p><strong>Fail:</strong> Discerning the circles is required to understand the size of network and discerning the icons in each circle is required to identify which network it shows.</p>
							</figcaption>
						</figure>
						<p>The graphical objects are the circles (measured against the background) and the icons in each circle (measured against the circle's background).</p>
						<figure>
							<img src="img/infographic-pass.png" alt="The same infographic with contrasting text, dark borders around the circles, and contrasting icons." />
							<figcaption>
								<p><strong>Pass:</strong> The circles have contrasting borders and the icons are a contrasting dark colour against the light circle backgrounds.</p>
							</figcaption>
						</figure>
						<p>There are many possible solutions to ensuring contrast, the example shows the use of borders. Other techniques are to use darker colours for the circle backgrounds, or to add text labels &amp; values for each item.</p>
					</section>
				</section><!-- end graphic-object-examples -->

			</section><!-- end graphical-objects -->

			<section id="testing-principles">
					<h3>Testing Principles</h3>
					<p>A summary of the high-level process for finding and assessing non-text graphics on a web page:</p>
					<ul>
						<li>Identify each user-interface component (link, button, form control) on the page and:
							<ul>
								<li>Identify the visible boundaries of the component that indicate it is a component and test the contrast ratio against the adjacent colors.</li>
								<li>Identify the state indicators and test the contrast ratio against the adjacent colors.</li>
							</ul>
						</li>
						<li>Identify each graphic on the page that includes information required for understanding the content (i.e. excluding graphics which have visible text for the same information, or are decorative) and:
							<ul>
								<li>Check the contrast of the graphical object against its adjacent colours;</li>
								<li>If there are multiple colours and/or a gradient, chose the least contrasting area to test;</li>
								<li>If it passes, move to the next graphical object;</li>
								<li>If the least-contrasting area is less than 3:1, assume that area is invisible, is the graphical object still understandable?</li>
								<li>If there is enough of the graphical object to understand, it passes, else fail.</li>
							</ul>
						</li>
					</ul>
					<p>The techniques below each have testing criteria.</p>
			</section>

		</section><!-- end Intent -->

		<section id="benefits">
			<h2>Benefits</h2>
			<p>People with low vision often have difficulty perceiving graphics that have insufficient contrast. This can be exacerbated if the person has a color vision deficiency that lowers the contrast even further. Providing a <a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef">relative luminance</a> (lightness difference) of 3:1 or greater can make these items more distinguishable when the person does not see a full range of colors.</p>
		</section>


		<section id="resources">
			<h2>Resources </h2>
			<ul>
				<li><a href="http://w3c.github.io/low-vision-a11y-tf/requirements.html">Accessibility Requirements for People with Low Vision</a>.</li>
				<li><a href="https://lists.w3.org/Archives/Public/public-low-vision-a11y-tf/2017May/0007.html">Smith Kettlewell Eye Research Institute</a> -  &quot;If the text is better understood with the graphics, they should be equally visible as the text&quot;.</li>
				<li><a href="https://lists.w3.org/Archives/Public/public-low-vision-a11y-tf/2017Jun/0054.html">Gordon Legge</a> - &quot;Contrast requirements for form controls should be equivalent to contrast requirements for text&quot;.</li>
			</ul>
		</section>
		<section id="techniques">
			<h2>Techniques</h2>
			<section id="sufficient">
				<h3>Sufficient</h3>
				<section class="situation">
					<h4>Graphics with sufficient contrast</h4>
					<ul>
						<li>Contrasting colors between graphical objects (TBD)</li>
						<li>Include contrasting lines between adjoining colors (TBD)</li>
					</ul>
					<h4>Text in or over graphics</h4>
					<ul>
						<li>Include labels and values with the graphic (TBD)</li>
						<li><a href="https://www.w3.org/WAI/WCAG21/Techniques/general/G18" class="general">G18: Ensuring that a contrast ratio of at least 4.5:1 exists between text (and images of text) and background behind the text</a></li>
						<li><a href="https://www.w3.org/WAI/WCAG21/Techniques/general/G145" class="general">G145: Ensuring that a contrast ratio of at least 3:1 exists between text (and images of text) and background behind the text</a></li>
						<li><a href="https://www.w3.org/WAI/WCAG21/Techniques/general/G174" class="general">G174: Providing a control with a sufficient contrast ratio that allows users to switch to a presentation that uses sufficient contrast</a></li>
						<li><a href="https://www.w3.org/WAI/GL/wiki/Using_sufficient_contrast_for_images_that_convey_information">Using sufficient contrast for images that convey information (Draft)</a></li>
					</ul>
				</section>
			</section>
			<section id="advisory">
				<h3>Advisory</h3>
				<ul>
					<li><a href="https://www.w3.org/WAI/WCAG21/Techniques/general/G183" class="general">G183: Using a contrast ratio of 4.5:1 with surrounding text and providing additional visual cues on focus for links or controls where color alone is used to identify them</a></li>
				</ul>
			</section>
		</section>
	</body>
</html>
